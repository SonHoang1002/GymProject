<!DOCTYPE html>
<html lang="en">

<head>
    <title>ADMIN</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.0/css/bootstrap.min.css" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.0/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.0/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="../css/admin_style.css" />
</head>

<body>
    <!-- Responsive navbar-->
    <nav class="navbar sticky-top navbar-expand-lg navbar-dark" style="background-color: #000000;">
        <a class="navbar-brand" href="/admin2"> ADMIN </a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav"
            aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav">
                <li class="nav-item active">
                    <a class="nav-link" href="/index">Trang chủ <span class="sr-only">(current)</span></a>
                </li>

                <li class="nav-item">
                    <a class="nav-link" href="/login">Đăng xuất</a>
                </li>
            </ul>
        </div>
    </nav>
    <!-- Page Content-->

    <!-- Content Row-->
    <div class="row gx-4 gx-lg-5 py-5 text-danger" style="background-color: #000000;">
        <div class="container-fluid ">
            <h1 class="text-center mb-3">HLV bạn đã thêm trên hệ thống</h1>
            <div class="container py-3">
                <div class="row">
                    <div class="col align-self-center">
                        <button type="button" class="btn btn-primary align-self-center" data-toggle="modal"
                            data-target=".bd-example-modal-lg">
                            Thêm HLV
                        </button>
                    </div>
                </div>
            </div>

            <div id="myCarousel" class="carousel slide" data-ride="carousel">
                <div class="carousel-inner row w-100 mx-auto">

                    <div class="carousel-item col-md-3 active">
                        <div class="card bg-dark text-white">
                            <!-- <img class="card-img-top img-fluid" src="images/ava.jpg" alt="Card image cap"> -->
                            <div class="card-body">
                                <h4 class="card-title">KHÔNG ĐƯỢC XÓA</h4>
                                <p class="card-text">Đây là card đầu tiên để làm mốc.</p>
                                <p class="card-text"><small class="text-muted">Reset page to see update</small></p>
                            </div>
                        </div>
                    </div>

                    <% hlv.forEach((i)=>{ %>
                    <!-- <form action="/deleteHLV"> -->
                    <div class="carousel-item col-md-3">
                        <div class="card bg-dark text-white">
                            <img class="card-img-top img-fluid" src="images/f-img-1.jpg" alt="Card image cap">
                            <div class="card-body">
                                <h4 class="card-title">Tên:
                                    <span class="hlvname">
                                        <%= i.hlvname %>
                                    </span>
                                </h4>
                                <p class="card-text">
                                    Kinh nghiệm:
                                    <span class="hlvexp">
                                        <%= i.hlvexp %>
                                    </span> kinh nghiệm
                                </p>
                                <p class="card-text">Chứng chỉ:
                                    <span class="hlvcerti">
                                        <%= i.hlvcerti %>
                                    </span>
                                </p>
                                <p class="card-text">Email:
                                    <span class="hlvemail">
                                        <%= i.hlvemail %>
                                    </span>
                                </p>
                                <p class="card-text">SĐT:
                                    <span class="hlvphone">
                                        <%= i.hlvphone %>
                                    </span>
                                </p>
                                <p class="card-text">Facebook:
                                    <span>
                                        <a class="linkFB" href="<%= i.linkFB %>">link </a>
                                    </span>
                                </p>

                                <button type="button" class="btn btn-primary mb-3" onclick="fixhlv(event)"
                                    data-toggle="modal" data-target="#exampleModalHlv"> Chỉnh sửa </button>

                                <form action="/deleteHlvByName" method="post">
                                    <div class="row">
                                        <div class="col-8">
                                            <div class="form-group">

                                                <input type="text" class="form-control" name="deleteHlvByName"
                                                    id="deleteHlvByName" placeholder="Xác nhận tên HLV" required>
                                            </div>
                                        </div>
                                        <div class="col-4">
                                            <button type="submit" class="btn btn-danger">
                                                Xoá </button>
                                        </div>
                                    </div>
                                </form>


                            </div>
                        </div>
                    </div>
                    <!-- </form> -->
                    <%})%>

                </div>
                <a class="carousel-control-prev" href="#myCarousel" role="button" data-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    <span class="sr-only">Previous</span>
                </a>

                <a class="carousel-control-next" href="#myCarousel" role="button" data-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    <span class="sr-only">Next</span>
                </a>
            </div>
        </div>
    </div>

    <!-- -->
    <!-- <div class="container-fluid">
    <div class="card text-white bg-dark my-5 text-center">
      <div class="card-body">
    </div>
  </div> -->

    <!-- Bài tập section -->
    <div class="row gx-4 gx-lg-5 py-5 text-danger" style="background-color: #000000;">
        <div class="container-fluid">
            <h1 class="text-center mb-3">Bài tập bạn đã thêm trên hệ thống</h1>
            <div class="container py-3">
                <div class="row">
                    <div class="col align-self-center">
                        <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModal">
                            Tạo bài tập
                        </button>
                    </div>
                </div>
            </div>
            <div id="myCarousel2" class="carousel slide" data-ride="carousel">
                <div class="carousel-inner row w-100 mx-auto">

                    <div class="carousel-item col-md-3 active">
                        <div class="card bg-dark text-white">
                            <div class="card-body">
                                <h4 class="card-title">KHÔNG ĐƯỢC XÓA</h4>
                                <p class="card-text">Đây là card đầu tiên để làm mốc.</p>
                                <p class="card-text"><small class="text-muted">Reset page to see update</small></p>
                            </div>
                        </div>
                    </div>

                    <% bt.forEach((i)=>{ %>

                    <div class="carousel-item col-md-3">
                        <div class="card bg-dark text-white">
                            <div class="card-body">
                                <h4 class="card-title">Tên: <span class="Btname">
                                        <%= i.Btname %>
                                    </span></h4>
                                <p class="card-text">
                                    Mức độ:
                                    <% if(i.Btlevel==1){ %>
                                    <span class="Btlevel">Dễ (1)</span>
                                    <% }else if(i.Btlevel==2){ %>
                                    <span class="Btlevel">Trung bình (2)</span>
                                    <% }else{ %>
                                    <span class="Btlevel">Khó (3)</span>
                                    <% } %>
                                </p>
                                <p class="card-text">
                                    Mục đích:
                                    <% if(i.Btreason==1){ %>
                                    <span class="Btreason">Thân trên (1)</span>
                                    <% }else if(i.Btreason==2){ %>
                                    <span class="Btreason">Thân dưới (2)</span>
                                    <% }else{ %>
                                    <span class="Btreason"> Bụng (3) </span>
                                    <% } %>
                                </p>
                                <p class="card-text">Link Bài Tập<span><a class="Btvideo" href="<%= i.Btvideo %>">
                                            <%= i.Btvideo %>
                                        </a></span></p>

                                <button class="btn btn-primary mb-3" onclick="fixBT(event)" data-toggle="modal"
                                    data-target="#exampleModal1"> Chỉnh sửa bài tập </button>

                                <form action="/deleteBtByName" method="post">
                                    <div class="row">
                                        <div class="col-9">
                                            <div class="form-group">
                                                <input type="text" class="form-control" name="deleteBtByName"
                                                    id="deleteBtByName" placeholder="Xác nhận tên BT" required>
                                            </div>
                                        </div>
                                        <div class="col-3">
                                            <button type="submit" class="btn btn-danger"> Xoá
                                            </button>
                                        </div>
                                    </div>
                                </form>

                            </div>
                        </div>
                    </div>

                    <%})%>

                </div>
                <a class="carousel-control-prev" href="#myCarousel2" role="button" data-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    <span class="sr-only">Previous</span>
                </a>
                <a class="carousel-control-next" href="#myCarousel2" role="button" data-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    <span class="sr-only">Next</span>
                </a>
            </div>
        </div>
    </div>
    </div>

    <!-- Modal them hlv -->
    <div class="container px-4 px-lg-5">
        <div class="modal fade bd-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel"
            aria-hidden="true">
            <div class="modal-dialog modal-lg">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title">Tạo hồ sơ HLV mới</h5>
                    </div>
                    <form class="p-3" action="/addHLV" method="post">
                        <div class="form-group">
                            <label for="hlvname">Họ và tên</label>
                            <input type="text" class="form-control" name="hlvname" id="hlvname"
                                placeholder="Nhập họ tên của HLV" required>
                        </div>
                        <div class="form-group">
                            <label for="hlvexp">Kinh nghiệm huấn luyện</label>
                            <input type="text" class="form-control" name="hlvexp" id="hlvexp"
                                placeholder="Kinh nghiệm huấn luyện" required>
                        </div>
                        <div class="form-group">
                            <label for="hlvcerti">Chứng chỉ</label>
                            <input type="text" class="form-control" name="hlvcerti" id="hlvcerti"
                                placeholder="Các chứng chỉ liên quan đến huấn luyện" required>
                        </div>
                        <div class="form-group">
                            <label for="hlvemail">Email</label>
                            <input type="email" class="form-control" name="hlvemail" id="hlvemail"
                                placeholder="Email của HLV" required>
                        </div>
                        <div class="form-group">
                            <label for="hlvphone">Số điện thoại</label>
                            <input type="tel" class="form-control" name="hlvphone" id="hlvphone"
                                placeholder="Số điện thoại của HLV" required>
                        </div>
                        <div class="form-group">
                            <label for="linkFB">Link Facebook</label>
                            <input type="url" class="form-control" name="linkFB" id="linkFB"
                                placeholder="Link Facebook trang cá nhân của HLV" required>
                        </div>

                        <button type="submit" class="btn btn-primary">Thêm HLV</button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal chinh sua hlv -->
    <div class="container px-4 px-lg-5">
        <div class="modal fade bd-example-modal-lg" id="exampleModalHlv" tabindex="-1" role="dialog"
            aria-labelledby="myLargeModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-lg">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title">Chỉnh sửa hồ sơ HLV</h5>
                    </div>
                    <form class="p-3" action="/updateHlvByName" method="post">
                        <div class="form-group">
                            <label for="hlvname">Họ và tên:</label>
                            <input type="text" class="form-control-plaintext" id="hlvnameu" name="hlvname"
                                placeholder="Nhập họ tên của HLV" readonly>
                        </div>
                        <div class="form-group">
                            <label for="hlvexp">Kinh nghiệm huấn luyện</label>
                            <input type="text" class="form-control" id="hlvexpu" name="hlvexp"
                                placeholder="Kinh nghiệm huấn luyện" required>
                        </div>
                        <div class="form-group">
                            <label for="hlvcerti">Chứng chỉ</label>
                            <input type="text" class="form-control" id="hlvcertiu"
                                placeholder="Các chứng chỉ liên quan đến huấn luyện" name="hlvcerti" required>
                        </div>
                        <div class="form-group">
                            <label for="hlvemail">Email</label>
                            <input type="email" class="form-control" name="hlvemail" id="hlvemailu"
                                placeholder="Email của HLV" required>
                        </div>
                        <div class="form-group">
                            <label for="hlvphone">Số điện thoại</label>
                            <input type="tel" name="hlvphone" class="form-control" id="hlvphoneu"
                                placeholder="Số điện thoại của HLV" required>
                        </div>
                        <div class="form-group">
                            <label for="linkFB">Link Facebook</label>
                            <input type="url" class="form-control" id="linkFBu" name="linkFB"
                                placeholder="Link Facebook trang cá nhân của HLV" required>
                        </div>

                        <button type="submit" class="btn btn-primary">Chỉnh sửa thông tin HLV</button>

                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- modal them BT -->
    <div class="containerpx-4 px-lg-5">
        <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
            aria-hidden="true">
            <div class="modal-dialog modal-lg" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="exampleModalLabel">Tạo bài tập mới</h5>
                    </div>
                    <div class="modal-body">
                        <form class="p-3" action="/addBT" method="post">
                            <div class="form-group">
                                <label for="Btname">Tên của bài tập</label>
                                <input type="text" class="form-control" name="Btname" id="Btname"
                                    placeholder="Nhập tên của bài tập" required>
                            </div>
                            <div class="form-group">
                                <label for="Btlevel">Mức độ (Dễ : 1; Trung bình : 2; Khó : 3)</label>
                                <input type="number" min="1" max="3" class="form-control" name="Btlevel" id="Btlevel"
                                    placeholder="Điền số tương ứng" required>
                            </div>
                            <div class="form-group">
                                <label for="Btreason">Mục đích bài tập (Thân trên: 1; Thân dưới: 2; Bụng: 3)</label>
                                <input type="number" min="1" max="3" class="form-control" name="Btreason" id="Btreason"
                                    placeholder="Điền số tương ứng" required>
                            </div>
                            <div class="form-group">
                                <label for="Btvideo">Link video hướng dẫn</label>
                                <input type="url" class="form-control" name="Btvideo" id="Btvideo"
                                    placeholder="Link video hướng dẫn" required>
                            </div>

                            <button type="submit" class="btn btn-primary">Thêm Bài tập</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- modal chinh sua BT -->
    <div class="containerpx-4 px-lg-5">
        <div class="modal fade" id="exampleModal1" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
            aria-hidden="true">
            <div class="modal-dialog modal-lg" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="exampleModalLabel">Chỉnh sửa bài tập </h5>
                    </div>
                    <div class="modal-body">
                        <form class="p-3" action="/updateBtByName" method="post">
                            <div class="form-group">
                                <label for="Btname">Tên của bài tập:</label>
                                <input type="text" class="form-control-plaintext" name="Btname" id="Btnameu"
                                    placeholder="Nhập tên của bài tập" readonly>
                            </div>
                            <div class="form-group">
                                <label for="Btlevel">Mức độ (Dễ : 1; Trung bình : 2; Khó : 3)</label>
                                <input type="number" min="1" max="3" class="form-control" name="Btlevel" id="Btlevelu"
                                    placeholder="Điền số tương ứng" required>
                            </div>
                            <div class="form-group">
                                <label for="Btreason">Mục đích bài tập (Thân trên: 1; Thân dưới: 2; Bụng: 3)</label>
                                <input type="number" min="1" max="3" class="form-control" name="Btreason" id="Btreasonu"
                                    placeholder="Điền số tương ứng" required>
                            </div>
                            <div class="form-group">
                                <label for="Btvideo">Link video hướng dẫn</label>
                                <input type="url" class="form-control" name="Btvideo" id="Btvideou"
                                    placeholder="Link video hướng dẫn" required>
                            </div>

                            <button type="submit" class="btn btn-primary">Chỉnh Sửa </button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Footer-->
    <footer class="py-4 bg-dark">
        <div class="container px-4 px-lg-5">
            <p class="m-0 text-center text-danger">
                Copyright &copy; Admin Website Nhóm Công Nghệ Web
            </p>
        </div>
    </footer>

    <script>
        function fixhlv(e) {


            let parent = e.target.parentElement.parentElement

            let hlvname = parent.querySelector(".hlvname").textContent.trim()
            let hlvexp = parent.querySelector(".hlvexp").textContent.trim()
            let hlvcerti = parent.querySelector(".hlvcerti").textContent.trim()
            let hlvemail = parent.querySelector(".hlvemail").textContent.trim()
            let hlvphone = parent.querySelector(".hlvphone").textContent.trim()
            let linkFB = parent.querySelector(".linkFB").href.trim()

            document.getElementById("hlvnameu").value = hlvname
            document.getElementById("hlvexpu").value = hlvexp
            document.getElementById("hlvcertiu").value = hlvcerti
            document.getElementById("hlvemailu").value = hlvemail
            document.getElementById("hlvphoneu").value = hlvphone
            document.getElementById("linkFBu").value = linkFB

        }

        function fixBT(e) {
            let parent = e.target.parentElement.parentElement;

            let Btname = parent.querySelector(".Btname").textContent.trim()
            let Btlevel = parent.querySelector(".Btlevel").textContent.trim()
            let Btreason = parent.querySelector(".Btreason").textContent.trim()
            let Btvideo = parent.querySelector(".Btvideo").href.trim()

            if (Btlevel == "Dễ (1)") {
                Btlevel = 1;
            } else if (Btlevel == "Trung bình (2)") {
                Btlevel = 2;
            } else {
                Btlevel = 3;
            }

            if (Btreason == "Thân trên (1)") {
                Btreason = 1;
            } else if (Btreason == "Thân dưới (2)") {
                Btreason = 2;
            } else {
                Btreason = 3;
            }
            document.getElementById("Btnameu").value = Btname
            document.getElementById("Btlevelu").value = Btlevel
            document.getElementById("Btreasonu").value = Btreason
            document.getElementById("Btvideou").value = Btvideo

        }

        function getNameBt(e) {
            let parent = e.target.parentElement.parentElement.parentElement;
            let Btname = parent.querySelector(".Btname").textContent.trim()
            document.getElementById("deleteBtByName").value = Btname
            console.log(document.getElementById("deleteBtByName").value);
        }

        function getNameHlv(e) {
            let parent = e.target.parentElement.parentElement.parentElement;
            let hlvname = parent.querySelector(".hlvname").textContent.trim()
            document.getElementById("deleteHlvByName").value = hlvname
            console.log(hlvname);
        }
    </script>
</body>

</html>